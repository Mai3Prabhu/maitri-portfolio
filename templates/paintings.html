{% set paintings = [
    ('Christmas.jpg', 'Depicts the lightings of houses in the mountains.'),
    ('Blue.jpg', 'A blue-themed painting.'),
    ('Sunnyy.jpg', 'Depicts the scenery of a sunny sea with a boat.'),
    ('Scenes.jpg', ' A combination of beautiful scenery.'),
    ('Igloo.jpg', 'A night view of an igloo with northern lights in the background.'),
    ('Roof.jpg', 'A beautiful scene from the top.')
] %}
{% extends "base.html" %}
{% block title %}Painting Gallery | Maitri Prabhu{% endblock %}

{% block content %}
    <div class="container mx-auto p-8 max-w-7xl min-h-screen">
        <h1 class="text-4xl font-bold mb-4 text-center text-[#B6A1E8] dark:text-[#FFFACD]">
            Visual Art & Painting üñºÔ∏è
        </h1>
        <p class="text-lg text-gray-600 dark:text-gray-400 mb-12 text-center">
            The silence of the canvas allows me to articulate what the eyes often miss: the quiet geometry of nature and the texture of dreams.
        </p>

        <!-- FINAL STABLE GRID LAYOUT (3-column, centered final row) -->
        <!-- Since we now have 6 items, the 'flex justify-center' is the perfect container -->
        <div class="flex justify-center"> 
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl">
                
                <!-- Hidden element to hold data for the working openModal function -->
                <div id="painting-data" class="hidden" data-paintings="{{ paintings|tojson }}"></div>
                
                {% for filename, caption in paintings %}
                
                {# Calculate the 0-based index separately #}
                {% set index = loop.index - 1 %}
                
                <!-- Individual Painting Card (Wider and Taller) -->
                <div class="group relative overflow-hidden rounded-xl shadow-2xl border-4 border-[#F8F4F0] dark:border-[#B6A1E8] 
                            cursor-pointer transition duration-300 transform hover:scale-[1.03] hover:shadow-2xl 
                            min-h-[450px] bg-[#F8F4F0] dark:bg-gray-900 flex flex-col justify-end">
                    
                    <img src="{{ url_for('static', filename='img/' + filename) }}" 
                         alt="{{ caption }}" 
                         class="w-full h-5/6 object-cover p-3 transition duration-300 transform group-hover:opacity-80" 
                         
                         {# Pass the clean numerical variable 'index' #}
                         onclick="showPaintingDetails('{{ index }}')"> 
                    
                    <!-- Caption/Footer -->
                    <div class="p-3 text-center">
                        <span class="text-sm font-semibold text-gray-800 dark:text-[#B6A1E8] block">
                            {{ caption }}
                        </span>
                        
                    </div>
                </div>
                {% endfor %}
                
            </div>
        </div>
    </div>
{% endblock %}
